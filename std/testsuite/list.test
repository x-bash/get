# shellcheck shell=bash

@src std/list std/@ std/assert

test.list.basic(){
    list.new test

    @catch-final "
        Test Fail: codeline \$LINENO
    " "
        test.delete
        # aaa # Wrong command
    "

    test.push a b c d e f

    assert.eq "$(test.first default)" "a"
    assert.eq "$(test.top default)" "f"

    # assert.eq "$(test.first default)" "a1"
    # assert.eq "$(test.first default)" "a2"

    test.shift
    assert.eq "$(test.first default)" "b"
    assert.eq "$(test.top default)" "f"

    test.pop
    assert.eq "$(test.first default)" "b"
    assert.eq "$(test.top default)" "e"
}

test.list.basic
